<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>cmdgpt: cmdgpt.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">cmdgpt<span id="projectnumber">&#160;v0.3</span>
   </div>
   <div id="projectbrief">Command-line interface for OpenAI GPT API</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('d3/d89/cmdgpt_8h.html','../../',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">cmdgpt.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Command-line interface for OpenAI GPT API.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;spdlog/spdlog.h&quot;</code><br />
<code>#include &lt;deque&gt;</code><br />
<code>#include &lt;filesystem&gt;</code><br />
<code>#include &lt;fstream&gt;</code><br />
<code>#include &lt;functional&gt;</code><br />
<code>#include &lt;map&gt;</code><br />
<code>#include &lt;memory&gt;</code><br />
<code>#include &lt;stdexcept&gt;</code><br />
<code>#include &lt;string&gt;</code><br />
<code>#include &lt;string_view&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for cmdgpt.h:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/d4e/cmdgpt_8h__incl.png" border="0" usemap="#acmdgpt_8h" loading="lazy" alt=""/></div>
<map name="acmdgpt_8h" id="acmdgpt_8h">
<area shape="rect" title="Command&#45;line interface for OpenAI GPT API." alt="" coords="504,5,579,31"/>
<area shape="rect" title=" " alt="" coords="5,79,118,105"/>
<area shape="poly" title=" " alt="" coords="504,27,133,81,133,76,503,22"/>
<area shape="rect" title=" " alt="" coords="141,79,198,105"/>
<area shape="poly" title=" " alt="" coords="504,28,379,48,214,81,212,76,378,43,503,22"/>
<area shape="rect" title=" " alt="" coords="222,79,304,105"/>
<area shape="poly" title=" " alt="" coords="504,32,320,79,318,74,503,27"/>
<area shape="rect" title=" " alt="" coords="328,79,393,105"/>
<area shape="poly" title=" " alt="" coords="512,34,406,75,404,70,510,29"/>
<area shape="rect" title=" " alt="" coords="418,79,495,105"/>
<area shape="poly" title=" " alt="" coords="529,34,484,71,480,67,525,29"/>
<area shape="rect" title=" " alt="" coords="518,79,565,105"/>
<area shape="poly" title=" " alt="" coords="544,31,544,63,539,63,539,31"/>
<area shape="rect" title=" " alt="" coords="589,79,657,105"/>
<area shape="poly" title=" " alt="" coords="557,30,600,67,596,71,554,34"/>
<area shape="rect" title=" " alt="" coords="681,79,759,105"/>
<area shape="poly" title=" " alt="" coords="573,29,677,70,675,75,571,34"/>
<area shape="rect" title=" " alt="" coords="783,79,836,105"/>
<area shape="poly" title=" " alt="" coords="580,26,768,76,767,81,579,32"/>
<area shape="rect" title=" " alt="" coords="860,79,948,105"/>
<area shape="poly" title=" " alt="" coords="580,24,846,76,845,81,579,29"/>
<area shape="rect" title=" " alt="" coords="972,79,1029,105"/>
<area shape="poly" title=" " alt="" coords="580,20,740,39,846,55,957,76,956,81,845,61,739,45,579,26"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/d26/cmdgpt_8h__dep__incl.png" border="0" usemap="#acmdgpt_8hdep" loading="lazy" alt=""/></div>
<map name="acmdgpt_8hdep" id="acmdgpt_8hdep">
<area shape="rect" title="Command&#45;line interface for OpenAI GPT API." alt="" coords="64,5,140,31"/>
<area shape="rect" href="../../dd/ddc/cmdgpt_8cpp.html" title="Implementation of cmdgpt functionality." alt="" coords="5,79,95,105"/>
<area shape="poly" title=" " alt="" coords="87,45,61,80,57,77,82,42"/>
<area shape="rect" href="../../df/d0a/main_8cpp.html" title="Main entry point for cmdgpt command&#45;line tool." alt="" coords="118,79,192,105"/>
<area shape="poly" title=" " alt="" coords="122,42,148,77,144,80,118,45"/>
</map>
</div>
</div>
<p><a href="../../d3/d89/cmdgpt_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-nested-classes" class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:cmdgpt_3A_3ACmdGptException" id="r_cmdgpt_3A_3ACmdGptException"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d1d/classcmdgpt_1_1CmdGptException.html">cmdgpt::CmdGptException</a></td></tr>
<tr class="memitem:cmdgpt_3A_3AApiException" id="r_cmdgpt_3A_3AApiException"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dec/classcmdgpt_1_1ApiException.html">cmdgpt::ApiException</a></td></tr>
<tr class="memitem:cmdgpt_3A_3ANetworkException" id="r_cmdgpt_3A_3ANetworkException"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d97/classcmdgpt_1_1NetworkException.html">cmdgpt::NetworkException</a></td></tr>
<tr class="memitem:cmdgpt_3A_3AConfigurationException" id="r_cmdgpt_3A_3AConfigurationException"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dd9/classcmdgpt_1_1ConfigurationException.html">cmdgpt::ConfigurationException</a></td></tr>
<tr class="memitem:cmdgpt_3A_3AValidationException" id="r_cmdgpt_3A_3AValidationException"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/da0/classcmdgpt_1_1ValidationException.html">cmdgpt::ValidationException</a></td></tr>
<tr class="memitem:cmdgpt_3A_3AConfig" id="r_cmdgpt_3A_3AConfig"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d57/classcmdgpt_1_1Config.html">cmdgpt::Config</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configuration management class using modern C++ features.  <a href="../../de/d57/classcmdgpt_1_1Config.html#details">More...</a><br /></td></tr>
<tr class="memitem:cmdgpt_3A_3AMessage" id="r_cmdgpt_3A_3AMessage"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d00/structcmdgpt_1_1Message.html">cmdgpt::Message</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents a single message in a conversation.  <a href="../../dd/d00/structcmdgpt_1_1Message.html#details">More...</a><br /></td></tr>
<tr class="memitem:cmdgpt_3A_3AConversation" id="r_cmdgpt_3A_3AConversation"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/def/classcmdgpt_1_1Conversation.html">cmdgpt::Conversation</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Manages conversation history and context.  <a href="../../d5/def/classcmdgpt_1_1Conversation.html#details">More...</a><br /></td></tr>
<tr class="memitem:cmdgpt_3A_3AConfigFile" id="r_cmdgpt_3A_3AConfigFile"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d46/classcmdgpt_1_1ConfigFile.html">cmdgpt::ConfigFile</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configuration file manager.  <a href="../../d3/d46/classcmdgpt_1_1ConfigFile.html#details">More...</a><br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-namespaces" class="groupheader"><a id="namespaces" name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:cmdgpt" id="r_cmdgpt"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d05/namespacecmdgpt.html">cmdgpt</a></td></tr>
<tr class="memdesc:d0/d05/namespacecmdgpt"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main namespace for cmdgpt functionality. <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-typedef-members" class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:aed6d34e4c7da82165943cb2e4cc44562" id="r_aed6d34e4c7da82165943cb2e4cc44562"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d05/namespacecmdgpt.html#aed6d34e4c7da82165943cb2e4cc44562">cmdgpt::StreamCallback</a> = std::function&lt;void(const std::string&amp; chunk)&gt;</td></tr>
<tr class="memdesc:aed6d34e4c7da82165943cb2e4cc44562"><td class="mdescLeft">&#160;</td><td class="mdescRight">Streaming response callback type.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-enum-members" class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:aefa309cf022e7d8d0b835a1b09d7e288" id="r_aefa309cf022e7d8d0b835a1b09d7e288"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d05/namespacecmdgpt.html#aefa309cf022e7d8d0b835a1b09d7e288">cmdgpt::HttpStatus</a> : int { <br />
&#160;&#160;<a class="el" href="../../d0/d05/namespacecmdgpt.html#aefa309cf022e7d8d0b835a1b09d7e288aafc9db2877457de2d37c2fb6d6fea874">cmdgpt::EMPTY_RESPONSE</a> = -1
, <a class="el" href="../../d0/d05/namespacecmdgpt.html#aefa309cf022e7d8d0b835a1b09d7e288ae0aa021e21dddbd6d8cecec71e9cf564">cmdgpt::OK</a> = 200
, <a class="el" href="../../d0/d05/namespacecmdgpt.html#aefa309cf022e7d8d0b835a1b09d7e288a0bbffe9eb8bbfc49246e867fccaefb73">cmdgpt::BAD_REQUEST</a> = 400
, <a class="el" href="../../d0/d05/namespacecmdgpt.html#aefa309cf022e7d8d0b835a1b09d7e288a0ab06e7c28266cc1ed601325013a874c">cmdgpt::UNAUTHORIZED</a> = 401
, <br />
&#160;&#160;<a class="el" href="../../d0/d05/namespacecmdgpt.html#aefa309cf022e7d8d0b835a1b09d7e288a4a76a6ecac6e4077588fd966db329fa3">cmdgpt::FORBIDDEN</a> = 403
, <a class="el" href="../../d0/d05/namespacecmdgpt.html#aefa309cf022e7d8d0b835a1b09d7e288a8c02547a8a3b02382bac3557bcb2280d">cmdgpt::NOT_FOUND</a> = 404
, <a class="el" href="../../d0/d05/namespacecmdgpt.html#aefa309cf022e7d8d0b835a1b09d7e288a45d9cc15c3d3229e11b4c33387598850">cmdgpt::INTERNAL_SERVER_ERROR</a> = 500
<br />
 }</td></tr>
<tr class="memdesc:aefa309cf022e7d8d0b835a1b09d7e288"><td class="mdescLeft">&#160;</td><td class="mdescRight">HTTP status codes used by the API.  <a href="../../d0/d05/namespacecmdgpt.html#aefa309cf022e7d8d0b835a1b09d7e288">More...</a><br /></td></tr>
<tr class="memitem:ad80490a020da0b0e42a468587f28ff88" id="r_ad80490a020da0b0e42a468587f28ff88"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d05/namespacecmdgpt.html#ad80490a020da0b0e42a468587f28ff88">cmdgpt::OutputFormat</a> { <a class="el" href="../../d0/d05/namespacecmdgpt.html#ad80490a020da0b0e42a468587f28ff88af62eb0bf5e5c72e80983fbbac1cb70e5">cmdgpt::PLAIN</a>
, <a class="el" href="../../d0/d05/namespacecmdgpt.html#ad80490a020da0b0e42a468587f28ff88a06d53571201b4c2aa16554971af6365e">cmdgpt::MARKDOWN</a>
, <a class="el" href="../../d0/d05/namespacecmdgpt.html#ad80490a020da0b0e42a468587f28ff88a0ecd11c1d7a287401d148a23bbd7a2f8">cmdgpt::JSON</a>
, <a class="el" href="../../d0/d05/namespacecmdgpt.html#ad80490a020da0b0e42a468587f28ff88a08054846bbc9933fd0395f8be516a9f9">cmdgpt::CODE</a>
 }</td></tr>
<tr class="memdesc:ad80490a020da0b0e42a468587f28ff88"><td class="mdescLeft">&#160;</td><td class="mdescRight">Output format options for response formatting.  <a href="../../d0/d05/namespacecmdgpt.html#ad80490a020da0b0e42a468587f28ff88">More...</a><br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:afb5e8c9dbc15f7a9d64aa1e3351cec25" id="r_afb5e8c9dbc15f7a9d64aa1e3351cec25"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/d05/namespacecmdgpt.html#ad80490a020da0b0e42a468587f28ff88">OutputFormat</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d05/namespacecmdgpt.html#afb5e8c9dbc15f7a9d64aa1e3351cec25">cmdgpt::parse_output_format</a> (std::string_view format)</td></tr>
<tr class="memdesc:afb5e8c9dbc15f7a9d64aa1e3351cec25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert string to <a class="el" href="../../d0/d05/namespacecmdgpt.html#ad80490a020da0b0e42a468587f28ff88" title="Output format options for response formatting.">OutputFormat</a> enum.  <br /></td></tr>
<tr class="memitem:a2a8346a32e6ad2d2a118e0c3a084761e" id="r_a2a8346a32e6ad2d2a118e0c3a084761e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d05/namespacecmdgpt.html#a2a8346a32e6ad2d2a118e0c3a084761e">cmdgpt::validate_api_key</a> (std::string_view api_key)</td></tr>
<tr class="memdesc:a2a8346a32e6ad2d2a118e0c3a084761e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validates and sanitizes API key input.  <br /></td></tr>
<tr class="memitem:a5388bc50f7e07fa57f66b229d1a0e0f5" id="r_a5388bc50f7e07fa57f66b229d1a0e0f5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d05/namespacecmdgpt.html#a5388bc50f7e07fa57f66b229d1a0e0f5">cmdgpt::validate_prompt</a> (std::string_view prompt)</td></tr>
<tr class="memdesc:a5388bc50f7e07fa57f66b229d1a0e0f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validates input prompt length and content.  <br /></td></tr>
<tr class="memitem:aa671517c84d1e5bab477438aca0cf82d" id="r_aa671517c84d1e5bab477438aca0cf82d"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d05/namespacecmdgpt.html#aa671517c84d1e5bab477438aca0cf82d">cmdgpt::redact_api_key</a> (std::string_view api_key)</td></tr>
<tr class="memdesc:aa671517c84d1e5bab477438aca0cf82d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a redacted version of API key for logging.  <br /></td></tr>
<tr class="memitem:abcc790498ee037eb555d423c215da863" id="r_abcc790498ee037eb555d423c215da863"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d05/namespacecmdgpt.html#abcc790498ee037eb555d423c215da863">cmdgpt::print_help</a> ()</td></tr>
<tr class="memdesc:abcc790498ee037eb555d423c215da863"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints the help message to the console.  <br /></td></tr>
<tr class="memitem:a19ed2e07630c91548444910087b275fb" id="r_a19ed2e07630c91548444910087b275fb"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d05/namespacecmdgpt.html#a19ed2e07630c91548444910087b275fb">cmdgpt::get_gpt_chat_response</a> (std::string_view prompt, std::string_view api_key=&quot;&quot;, std::string_view system_prompt=&quot;&quot;, std::string_view model=&quot;&quot;)</td></tr>
<tr class="memdesc:a19ed2e07630c91548444910087b275fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a chat completion request to the OpenAI API (legacy interface)  <br /></td></tr>
<tr class="memitem:abced6f324d1b470766d2a964e5f6d108" id="r_abced6f324d1b470766d2a964e5f6d108"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d05/namespacecmdgpt.html#abced6f324d1b470766d2a964e5f6d108">cmdgpt::get_gpt_chat_response</a> (std::string_view prompt, const <a class="el" href="../../de/d57/classcmdgpt_1_1Config.html">Config</a> &amp;config)</td></tr>
<tr class="memdesc:abced6f324d1b470766d2a964e5f6d108"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a chat completion request to the OpenAI API (modern interface)  <br /></td></tr>
<tr class="memitem:afcc71e70bfea7ed640705a027ca741e4" id="r_afcc71e70bfea7ed640705a027ca741e4"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d05/namespacecmdgpt.html#afcc71e70bfea7ed640705a027ca741e4">cmdgpt::get_gpt_chat_response</a> (const <a class="el" href="../../d5/def/classcmdgpt_1_1Conversation.html">Conversation</a> &amp;conversation, const <a class="el" href="../../de/d57/classcmdgpt_1_1Config.html">Config</a> &amp;config)</td></tr>
<tr class="memdesc:afcc71e70bfea7ed640705a027ca741e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a chat completion request with conversation history.  <br /></td></tr>
<tr class="memitem:add667c5340dd1a449ae986638d9566eb" id="r_add667c5340dd1a449ae986638d9566eb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d05/namespacecmdgpt.html#add667c5340dd1a449ae986638d9566eb">cmdgpt::get_gpt_chat_response_stream</a> (std::string_view prompt, const <a class="el" href="../../de/d57/classcmdgpt_1_1Config.html">Config</a> &amp;config, <a class="el" href="../../d0/d05/namespacecmdgpt.html#aed6d34e4c7da82165943cb2e4cc44562">StreamCallback</a> callback)</td></tr>
<tr class="memdesc:add667c5340dd1a449ae986638d9566eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a streaming chat completion request.  <br /></td></tr>
<tr class="memitem:a088f60fa3337c552a0398c114cb63a3a" id="r_a088f60fa3337c552a0398c114cb63a3a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d05/namespacecmdgpt.html#a088f60fa3337c552a0398c114cb63a3a">cmdgpt::get_gpt_chat_response_stream</a> (const <a class="el" href="../../d5/def/classcmdgpt_1_1Conversation.html">Conversation</a> &amp;conversation, const <a class="el" href="../../de/d57/classcmdgpt_1_1Config.html">Config</a> &amp;config, <a class="el" href="../../d0/d05/namespacecmdgpt.html#aed6d34e4c7da82165943cb2e4cc44562">StreamCallback</a> callback)</td></tr>
<tr class="memdesc:a088f60fa3337c552a0398c114cb63a3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a streaming chat completion request with conversation history.  <br /></td></tr>
<tr class="memitem:a2895b5184013a652d36d88ad5cb3edda" id="r_a2895b5184013a652d36d88ad5cb3edda"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d05/namespacecmdgpt.html#a2895b5184013a652d36d88ad5cb3edda">cmdgpt::format_output</a> (const std::string &amp;content, <a class="el" href="../../d0/d05/namespacecmdgpt.html#ad80490a020da0b0e42a468587f28ff88">OutputFormat</a> format)</td></tr>
<tr class="memdesc:a2895b5184013a652d36d88ad5cb3edda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Format output based on the specified format.  <br /></td></tr>
<tr class="memitem:abf82caf2672c9725565702d40cd379e6" id="r_abf82caf2672c9725565702d40cd379e6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d05/namespacecmdgpt.html#abf82caf2672c9725565702d40cd379e6">cmdgpt::run_interactive_mode</a> (<a class="el" href="../../de/d57/classcmdgpt_1_1Config.html">Config</a> &amp;config)</td></tr>
<tr class="memdesc:abf82caf2672c9725565702d40cd379e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run interactive REPL mode.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-var-members" class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a4d0a9ef940e4e395c4e204397abd18c9" id="r_a4d0a9ef940e4e395c4e204397abd18c9"><td class="memItemLeft" align="right" valign="top">constexpr std::string_view&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d05/namespacecmdgpt.html#a4d0a9ef940e4e395c4e204397abd18c9">cmdgpt::VERSION</a> = &quot;v0.3&quot;</td></tr>
<tr class="memdesc:a4d0a9ef940e4e395c4e204397abd18c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current version of cmdgpt.  <br /></td></tr>
<tr class="memitem:ad5673eba27ce3f71180bfb32308b130b" id="r_ad5673eba27ce3f71180bfb32308b130b"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; spdlog::logger &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad5673eba27ce3f71180bfb32308b130b">gLogger</a></td></tr>
<tr id="var-members-0" class="groupHeader"><td colspan="2"><div class="groupHeader">Default Configuration Values</div></td></tr>
<tr class="memitem:a59c0c9d36bec99e08e4eb2bcbc3071bf" id="r_a59c0c9d36bec99e08e4eb2bcbc3071bf"><td class="memItemLeft" align="right" valign="top">constexpr std::string_view&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d05/namespacecmdgpt.html#a59c0c9d36bec99e08e4eb2bcbc3071bf">cmdgpt::DEFAULT_MODEL</a> = &quot;gpt-4&quot;</td></tr>
<tr class="memdesc:a59c0c9d36bec99e08e4eb2bcbc3071bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default GPT model.  <br /></td></tr>
<tr class="memitem:aa43b847e3671c7cf465833e262a1fe81" id="r_aa43b847e3671c7cf465833e262a1fe81"><td class="memItemLeft" align="right" valign="top">constexpr std::string_view&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d05/namespacecmdgpt.html#aa43b847e3671c7cf465833e262a1fe81">cmdgpt::DEFAULT_SYSTEM_PROMPT</a></td></tr>
<tr class="memdesc:aa43b847e3671c7cf465833e262a1fe81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default system prompt.  <br /></td></tr>
<tr class="memitem:a69d5892d4bfa5273064b1614f778d1d9" id="r_a69d5892d4bfa5273064b1614f778d1d9"><td class="memItemLeft" align="right" valign="top">constexpr spdlog::level::level_enum&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d05/namespacecmdgpt.html#a69d5892d4bfa5273064b1614f778d1d9">cmdgpt::DEFAULT_LOG_LEVEL</a></td></tr>
<tr class="memdesc:a69d5892d4bfa5273064b1614f778d1d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default log level.  <br /></td></tr>
<tr id="var-members-1" class="groupHeader"><td colspan="2"><div class="groupHeader">HTTP Headers</div></td></tr>
<tr class="memitem:a3af8291a3f0209a8262608c7406ea8fb" id="r_a3af8291a3f0209a8262608c7406ea8fb"><td class="memItemLeft" align="right" valign="top">constexpr std::string_view&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d05/namespacecmdgpt.html#a3af8291a3f0209a8262608c7406ea8fb">cmdgpt::AUTHORIZATION_HEADER</a></td></tr>
<tr class="memdesc:a3af8291a3f0209a8262608c7406ea8fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">HTTP Authorization header.  <br /></td></tr>
<tr class="memitem:a4a9dc9c842020164e69c531bb939f41f" id="r_a4a9dc9c842020164e69c531bb939f41f"><td class="memItemLeft" align="right" valign="top">constexpr std::string_view&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d05/namespacecmdgpt.html#a4a9dc9c842020164e69c531bb939f41f">cmdgpt::CONTENT_TYPE_HEADER</a></td></tr>
<tr class="memdesc:a4a9dc9c842020164e69c531bb939f41f"><td class="mdescLeft">&#160;</td><td class="mdescRight">HTTP Content-Type header.  <br /></td></tr>
<tr class="memitem:a88d472aabcbb6a76d8d004829d3b0ff1" id="r_a88d472aabcbb6a76d8d004829d3b0ff1"><td class="memItemLeft" align="right" valign="top">constexpr std::string_view&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d05/namespacecmdgpt.html#a88d472aabcbb6a76d8d004829d3b0ff1">cmdgpt::APPLICATION_JSON</a> = &quot;application/json&quot;</td></tr>
<tr class="memdesc:a88d472aabcbb6a76d8d004829d3b0ff1"><td class="mdescLeft">&#160;</td><td class="mdescRight">JSON content type.  <br /></td></tr>
<tr id="var-members-2" class="groupHeader"><td colspan="2"><div class="groupHeader">OpenAI API JSON Keys</div></td></tr>
<tr class="memitem:a9091a2432308f77dfae11e440da7f6f6" id="r_a9091a2432308f77dfae11e440da7f6f6"><td class="memItemLeft" align="right" valign="top">constexpr std::string_view&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d05/namespacecmdgpt.html#a9091a2432308f77dfae11e440da7f6f6">cmdgpt::SYSTEM_ROLE</a> = &quot;system&quot;</td></tr>
<tr class="memdesc:a9091a2432308f77dfae11e440da7f6f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">System role identifier.  <br /></td></tr>
<tr class="memitem:ac0a4dcfb09e25ff23396c5032c509354" id="r_ac0a4dcfb09e25ff23396c5032c509354"><td class="memItemLeft" align="right" valign="top">constexpr std::string_view&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d05/namespacecmdgpt.html#ac0a4dcfb09e25ff23396c5032c509354">cmdgpt::USER_ROLE</a> = &quot;user&quot;</td></tr>
<tr class="memdesc:ac0a4dcfb09e25ff23396c5032c509354"><td class="mdescLeft">&#160;</td><td class="mdescRight">User role identifier.  <br /></td></tr>
<tr class="memitem:a72e061c3b2135bd1889f863d1b2b2f2c" id="r_a72e061c3b2135bd1889f863d1b2b2f2c"><td class="memItemLeft" align="right" valign="top">constexpr std::string_view&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d05/namespacecmdgpt.html#a72e061c3b2135bd1889f863d1b2b2f2c">cmdgpt::MODEL_KEY</a> = &quot;model&quot;</td></tr>
<tr class="memdesc:a72e061c3b2135bd1889f863d1b2b2f2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Model key in API request.  <br /></td></tr>
<tr class="memitem:ad9a94116177400816899c9b8aac3dcfb" id="r_ad9a94116177400816899c9b8aac3dcfb"><td class="memItemLeft" align="right" valign="top">constexpr std::string_view&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d05/namespacecmdgpt.html#ad9a94116177400816899c9b8aac3dcfb">cmdgpt::MESSAGES_KEY</a> = &quot;messages&quot;</td></tr>
<tr class="memdesc:ad9a94116177400816899c9b8aac3dcfb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Messages array key.  <br /></td></tr>
<tr class="memitem:a94b8b965ee0df1a8b464aa088dd516ff" id="r_a94b8b965ee0df1a8b464aa088dd516ff"><td class="memItemLeft" align="right" valign="top">constexpr std::string_view&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d05/namespacecmdgpt.html#a94b8b965ee0df1a8b464aa088dd516ff">cmdgpt::ROLE_KEY</a> = &quot;role&quot;</td></tr>
<tr class="memdesc:a94b8b965ee0df1a8b464aa088dd516ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Role key in message.  <br /></td></tr>
<tr class="memitem:a74fd231500cd510fd50d25c395706c2a" id="r_a74fd231500cd510fd50d25c395706c2a"><td class="memItemLeft" align="right" valign="top">constexpr std::string_view&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d05/namespacecmdgpt.html#a74fd231500cd510fd50d25c395706c2a">cmdgpt::CONTENT_KEY</a> = &quot;content&quot;</td></tr>
<tr class="memdesc:a74fd231500cd510fd50d25c395706c2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Content key in message.  <br /></td></tr>
<tr class="memitem:a94dafef4e4b2d7896bee5115f690e9c0" id="r_a94dafef4e4b2d7896bee5115f690e9c0"><td class="memItemLeft" align="right" valign="top">constexpr std::string_view&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d05/namespacecmdgpt.html#a94dafef4e4b2d7896bee5115f690e9c0">cmdgpt::CHOICES_KEY</a> = &quot;choices&quot;</td></tr>
<tr class="memdesc:a94dafef4e4b2d7896bee5115f690e9c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Choices array in response.  <br /></td></tr>
<tr class="memitem:a4ebdaeb1fd052b573519639f76834dba" id="r_a4ebdaeb1fd052b573519639f76834dba"><td class="memItemLeft" align="right" valign="top">constexpr std::string_view&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d05/namespacecmdgpt.html#a4ebdaeb1fd052b573519639f76834dba">cmdgpt::FINISH_REASON_KEY</a></td></tr>
<tr class="memdesc:a4ebdaeb1fd052b573519639f76834dba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finish reason in response.  <br /></td></tr>
<tr id="var-members-3" class="groupHeader"><td colspan="2"><div class="groupHeader">API Configuration</div></td></tr>
<tr class="memitem:a905460b64176e90229e19b0da07734c3" id="r_a905460b64176e90229e19b0da07734c3"><td class="memItemLeft" align="right" valign="top">constexpr std::string_view&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d05/namespacecmdgpt.html#a905460b64176e90229e19b0da07734c3">cmdgpt::API_URL</a></td></tr>
<tr class="memdesc:a905460b64176e90229e19b0da07734c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">OpenAI chat completions endpoint.  <br /></td></tr>
<tr class="memitem:ab69cde9174c6513411207bffe3b03c8f" id="r_ab69cde9174c6513411207bffe3b03c8f"><td class="memItemLeft" align="right" valign="top">constexpr std::string_view&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d05/namespacecmdgpt.html#ab69cde9174c6513411207bffe3b03c8f">cmdgpt::SERVER_URL</a> = &quot;https://api.openai.com&quot;</td></tr>
<tr class="memdesc:ab69cde9174c6513411207bffe3b03c8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">OpenAI API server URL.  <br /></td></tr>
<tr id="var-members-4" class="groupHeader"><td colspan="2"><div class="groupHeader">Security and Validation Limits</div></td></tr>
<tr class="memitem:abaf43e79d464bc359f1e059bc379d839" id="r_abaf43e79d464bc359f1e059bc379d839"><td class="memItemLeft" align="right" valign="top">constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d05/namespacecmdgpt.html#abaf43e79d464bc359f1e059bc379d839">cmdgpt::MAX_PROMPT_LENGTH</a> = 1024 * 1024</td></tr>
<tr class="memdesc:abaf43e79d464bc359f1e059bc379d839"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum prompt length (1MB)  <br /></td></tr>
<tr class="memitem:afbf9ab2b180f92b8fc50df333d011561" id="r_afbf9ab2b180f92b8fc50df333d011561"><td class="memItemLeft" align="right" valign="top">constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d05/namespacecmdgpt.html#afbf9ab2b180f92b8fc50df333d011561">cmdgpt::MAX_RESPONSE_LENGTH</a> = 10 * 1024 * 1024</td></tr>
<tr class="memdesc:afbf9ab2b180f92b8fc50df333d011561"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum response length (10MB)  <br /></td></tr>
<tr class="memitem:afa41934e3b5cc62743196004cf3fc69d" id="r_afa41934e3b5cc62743196004cf3fc69d"><td class="memItemLeft" align="right" valign="top">constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d05/namespacecmdgpt.html#afa41934e3b5cc62743196004cf3fc69d">cmdgpt::MAX_API_KEY_LENGTH</a> = 256</td></tr>
<tr class="memdesc:afa41934e3b5cc62743196004cf3fc69d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum API key length.  <br /></td></tr>
<tr class="memitem:a780304312242a950b6764ebb6369a933" id="r_a780304312242a950b6764ebb6369a933"><td class="memItemLeft" align="right" valign="top">constexpr int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d05/namespacecmdgpt.html#a780304312242a950b6764ebb6369a933">cmdgpt::CONNECTION_TIMEOUT_SECONDS</a> = 30</td></tr>
<tr class="memdesc:a780304312242a950b6764ebb6369a933"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connection timeout in seconds.  <br /></td></tr>
<tr class="memitem:aa4daaca13db507b9f9fed59f614289f6" id="r_aa4daaca13db507b9f9fed59f614289f6"><td class="memItemLeft" align="right" valign="top">constexpr int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d05/namespacecmdgpt.html#aa4daaca13db507b9f9fed59f614289f6">cmdgpt::READ_TIMEOUT_SECONDS</a> = 60</td></tr>
<tr class="memdesc:aa4daaca13db507b9f9fed59f614289f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read timeout in seconds.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Command-line interface for OpenAI GPT API. </p>
<dl class="section author"><dt>Author</dt><dd>Joern Ihlenburg </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2023-2024 </dd></dl>
<dl class="section version"><dt>Version</dt><dd>0.3</dd></dl>
<p>This file contains the main API declarations for cmdgpt, a command-line tool for interacting with OpenAI's GPT models. It provides features including:</p><ul>
<li>Interactive REPL mode for conversational AI</li>
<li>Multiple output formats (plain, JSON, Markdown, code)</li>
<li>Configuration file support</li>
<li>Comprehensive error handling</li>
<li>Security features including input validation</li>
</ul>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (c) 2023 Joern Ihlenburg </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Joern Ihlenburg </dd></dl>

<p class="definition">Definition in file <a class="el" href="../../d3/d89/cmdgpt_8h_source.html">cmdgpt.h</a>.</p>
</div><a name="doc-var-members" id="doc-var-members"></a><h2 id="header-doc-var-members" class="groupheader">Variable Documentation</h2>
<a id="ad5673eba27ce3f71180bfb32308b130b" name="ad5673eba27ce3f71180bfb32308b130b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5673eba27ce3f71180bfb32308b130b">&#9670;&#160;</a></span>gLogger</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;spdlog::logger&gt; gLogger</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/ddc/cmdgpt_8cpp_source.html#l00067">67</a> of file <a class="el" href="../../dd/ddc/cmdgpt_8cpp_source.html">cmdgpt.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/ddc/cmdgpt_8cpp_source.html#l00655">cmdgpt::get_gpt_chat_response()</a>, <a class="el" href="../../dd/ddc/cmdgpt_8cpp_source.html#l00308">cmdgpt::get_gpt_chat_response()</a>, and <a class="el" href="../../df/d0a/main_8cpp_source.html#l00050">main()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="../../d3/d89/cmdgpt_8h.html">cmdgpt.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
